type User {
  email: String!
  votes: [AmosGame!]! @relation(name: "VOTED_BY", direction: "IN")
  reputation: Int!
}

type Topic {
  name: String!
  parents: [Topic!]! @relation(name: "IS_PART_OF", direction: "OUT")
}

type Resource {
  name: String
  urls: [String!]!
  amosGames: [AmosGame!]! @relation(name: "FOR_RESOURCE", direction: "IN")
}

type AmosGame {
  id: ID!
  resource: Resource! @relation(name: "FOR_RESOURCE", direction: "OUT")
  votes: [VotedBy!]! 
}

# type AmosGameTopic implements AmosGame {
#   # Fsr this type doesn't compile  if it  doesn't have an id:
#   id: ID!
#   resource: Resource! @relation(name: "FOR_RESOURCE", direction: "OUT")
#   topic: Topic!
#   votes: [User!]! @relation(name: "VOTED_BY", direction: "OUT")
# }

# type AmosGameLearningRequirement implements AmosGame {
#   id: ID!
#   resource: Resource! @relation(name: "FOR_RESOURCE", direction: "OUT")
#   strength: Int!
#   level: Int!
#   topic:  Topic!
#   # votes: [VotedBy!]!
#   # votes: [User!]! @relation(name: "VOTED_BY", direction: "OUT")
# }

type VotedBy @relation(name: "VOTED_BY") {
  from: AmosGame!
  to: User!
  # TODO: Change to DateTime
  timestamp: Int!
  ownRepAtVote: Int!
  agreeingRep: Int!
}

# Query {
#   User
#   Topic
#   Resource
#   AmosGame
# }